(this["webpackJsonp@sprice237/proton-app"]=this["webpackJsonp@sprice237/proton-app"]||[]).push([[0],{129:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlAccount=void 0;var o=r(e(31));t.gqlAccount=o.default(a||(a=c(["\n  fragment Account on Account {\n    id\n    accountType\n    name\n  }\n"])))},155:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlTransaction=void 0;var o=r(e(31)),i=e(129);t.gqlTransaction=o.default(a||(a=c(["\n  fragment Transaction on Transaction {\n    id\n    creditAccount {\n      ...Account\n    }\n    debitAccount {\n      ...Account\n    }\n    date\n    amount\n    description\n  }\n  ","\n"])),i.gqlAccount)},16:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(390),t),c(e(437),t)},281:function(n,t,e){"use strict";var a=e(400),c=e(228),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useClient=void 0;var o=e(0),i=e(48),u=e(407),s=e(457),l=r(e(233)),d=e(282),j=e(284),b={Money:{serialize:function(n){return n.toString()},parseValue:function(n){return n?l.default(n):null}}};t.useClient=function(n,t){var e=j.useSchema(t),r=d.useCurrentOrganizationId(),l=c(r,1)[0];return o.useMemo((function(){if(!e)return null;var t=u.setContext((function(n,t){var e=t.headers;return{headers:a(a({},e),l?{"x-organization-id":l}:{})}})),c=i.ApolloLink.from([s.withScalars({schema:e,typesMap:b}),t,i.createHttpLink({uri:n,credentials:"include"})]);return new i.ApolloClient({link:c,cache:new i.InMemoryCache,connectToDevTools:!0})}),[e,n,l])}},282:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCurrentOrganizationId=void 0;var a=e(283);t.useCurrentOrganizationId=function(){return a.useSessionStorage("currentOrganizationId")}},283:function(n,t,e){"use strict";var a=e(228);Object.defineProperty(t,"__esModule",{value:!0}),t.useSessionStorage=void 0;var c=e(0);t.useSessionStorage=function(n){var t=c.useState(window.sessionStorage.getItem(n)),e=a(t,2),r=e[0],o=e[1],i=c.useMemo((function(){return null!==r&&void 0!==r?r:null}),[r]),u=c.useCallback((function(t){null===t?window.sessionStorage.removeItem(n):window.sessionStorage.setItem(n,t),window.dispatchEvent(new Event("storage"))}),[]);return c.useEffect((function(){var t=function(){o(window.sessionStorage.getItem(n))};return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}}),[]),[i,u]}},284:function(n,t,e){"use strict";var a,c=e(36);Object.defineProperty(t,"__esModule",{value:!0}),t.useSchema=void 0;var r=e(153),o=e(88),i=e(459),u=e(0);t.useSchema=function(n){return u.useMemo((function(){var t=r.gql(a||(a=c(["\n      ","\n    "])),n),e={Date:new o.GraphQLScalarType({name:"Date",serialize:function(n){return n&&n.toISOString()},parseValue:function(n){return n&&new Date(n)},parseLiteral:function(n){return n.kind===o.Kind.STRING||n.kind===o.Kind.INT?new Date(n.value):null}})};return i.makeExecutableSchema({typeDefs:t,resolvers:e})}),[n])}},285:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlBalanceSheetReport=void 0;var o=r(e(31)),i=e(129);t.gqlBalanceSheetReport=o.default(a||(a=c(["\n  fragment BalanceSheetReport on BalanceSheetReport {\n    date\n    assets {\n      account {\n        ...Account\n      }\n      balance\n    }\n    liabilities {\n      account {\n        ...Account\n      }\n      balance\n    }\n    equity {\n      account {\n        ...Account\n      }\n      balance\n    }\n    assetsTotalAmount\n    liabilitiesTotalAmount\n    equityTotalAmount\n  }\n  ","\n"])),i.gqlAccount)},286:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlIncomeStatementReport=void 0;var o=r(e(31)),i=e(129);t.gqlIncomeStatementReport=o.default(a||(a=c(["\n  fragment IncomeStatementReport on IncomeStatementReport {\n    startDate\n    endDate\n    income {\n      account {\n        ...Account\n      }\n      balance\n    }\n    expenses {\n      account {\n        ...Account\n      }\n      balance\n    }\n    incomeTotalAmount\n    expensesTotalAmount\n    net\n  }\n  ","\n"])),i.gqlAccount)},287:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlBankAccount=void 0;var o=r(e(31));t.gqlBankAccount=o.default(a||(a=c(["\n  fragment BankAccount on BankAccount {\n    id\n    name\n    mask\n    plaidType\n    plaidSubtype\n  }\n"])))},288:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlBankAccountTransaction=void 0;var o=r(e(31));t.gqlBankAccountTransaction=o.default(a||(a=c(["\n  fragment BankAccountTransaction on BankAccountTransaction {\n    id\n    name\n    timestamp\n    amount\n    pending\n    isReconciled\n  }\n"])))},289:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlOrganization=void 0;var o=r(e(31));t.gqlOrganization=o.default(a||(a=c(["\n  fragment Organization on Organization {\n    id\n    name\n  }\n"])))},290:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlUser=void 0;var o=r(e(31));t.gqlUser=o.default(a||(a=c(["\n  fragment User on User {\n    id\n    emailAddress\n  }\n"])))},337:function(n,t){n.exports="scalar Date\nscalar Money\n\nenum AccountTypeEnum {\n  ASSET\n  LIABILITY\n  EXPENSE\n  REVENUE\n  EQUITY\n}\n\ntype User {\n  id: ID!\n  emailAddress: String!\n}\n\ntype Account {\n  id: ID!\n  accountType: AccountTypeEnum!\n  name: String!\n}\n\ntype BankAccount {\n  id: ID!\n  name: String\n  mask: String\n  plaidType: String\n  plaidSubtype: String\n}\n\ntype BankAccountTransaction {\n  id: ID!\n  bankAccountId: String!\n  timestamp: Date!\n  name: String\n  pending: Boolean\n  amount: String\n  isReconciled: Boolean!\n}\n\ntype BankAccountTransactionQueryResult {\n  bankAccountTransactions: [BankAccountTransaction!]!\n  total: Int!\n}\n\ntype DeleteAccountResponse {\n  id: ID\n}\n\ntype Organization {\n  id: ID!\n  name: String!\n}\n\ntype Transaction {\n  id: ID!\n  date: Date!\n  creditAccount: Account!\n  debitAccount: Account!\n  amount: Money!\n  description: String!\n}\n\ntype DeleteTransactionResponse {\n  id: ID\n}\n\ntype RunningTransaction {\n  transactionId: ID!\n  date: Date!\n  creditAmount: Money\n  debitAmount: Money\n  description: String!\n  runningBalance: Money!\n}\n\ntype BalanceSheetReport {\n  date: Date!\n  assets: [BalanceSheetReportAccount!]!\n  liabilities: [BalanceSheetReportAccount!]!\n  equity: [BalanceSheetReportAccount!]!\n  assetsTotalAmount: Money!\n  liabilitiesTotalAmount: Money!\n  equityTotalAmount: Money!\n}\n\ntype BalanceSheetReportAccount {\n  account: Account!\n  balance: Money!\n}\n\ntype IncomeStatementReport {\n  startDate: Date!\n  endDate: Date!\n  income: [IncomeStatementReportAccount!]!\n  expenses: [IncomeStatementReportAccount!]!\n  incomeTotalAmount: Money!\n  expensesTotalAmount: Money!\n  net: Money!\n}\n\ntype IncomeStatementReportAccount {\n  account: Account!\n  balance: Money!\n}\n\ntype Query {\n  me: User\n  accounts: [Account!]!\n  account(accountId: ID!): Account\n  bankAccounts: [BankAccount!]!\n  bankAccountTransactions(bankAccountId: ID!, offset: Int!, limit: Int!, onlyUnreconciled: Boolean!): BankAccountTransactionQueryResult!\n  organizations: [Organization!]!\n  organization: Organization\n  transactions: [Transaction!]!\n  transaction(transactionId: ID!): Transaction\n  transactionsForAccount(accountId: ID!): [RunningTransaction!]!\n  transactionsForAccounts(accountIds: [ID!]!): [RunningTransaction!]!\n  balanceSheetReport(date: Date!): BalanceSheetReport!\n  incomeStatementReport(startDate: Date!, endDate: Date!): IncomeStatementReport!\n}\n\ninput LoginInput {\n  firebaseJwt: String!\n}\n\ninput CreateAccountInput {\n  accountType: AccountTypeEnum!\n  name: String!\n}\n\ninput UpdateAccountInput {\n  name: String!\n}\n\ninput CreateTransactionInput {\n  date: Date!\n  creditAccountId: ID!\n  debitAccountId: ID!\n  amount: Money!\n  description: String!\n}\n\ninput UpdateTransactionInput {\n  date: Date!\n  creditAccountId: ID!\n  debitAccountId: ID!\n  amount: Money!\n  description: String!\n}\n\ntype Mutation {\n  login(loginInput: LoginInput!): Boolean!\n  logout: Boolean!\n  createAccount(accountInput: CreateAccountInput!): Account\n  updateAccount(accountId: ID!, accountInput: UpdateAccountInput!): Account\n  deleteAccount(accountId: ID!): DeleteAccountResponse!\n  createTransaction(transactionInput: CreateTransactionInput!): Transaction\n  updateTransaction(transactionId: ID!, transactionInput: UpdateTransactionInput!): Transaction\n  deleteTransaction(transactionId: ID!): DeleteTransactionResponse!\n  createPlaidLinkToken: String!\n  submitPlaidPublicToken(publicToken: String!): Boolean!\n  reconcileBankAccountTransaction(bankAccountTransactionId: ID!, accountId: ID!): Transaction!\n}"},345:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),r=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)"default"!==e&&Object.prototype.hasOwnProperty.call(n,e)&&a(t,n,e);return c(t,n),t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(e(453));t.default=o},390:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(391),t),c(e(409),t),c(e(410),t),c(e(424),t)},391:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(392),t),c(e(281),t),c(e(284),t)},392:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useApolloProvider=void 0;var a=e(2),c=e(48),r=e(0),o=e(281);t.useApolloProvider=function(n,t){var e=o.useClient(n,t);return r.useMemo((function(){return function(n){var t=n.loadingComponent,r=n.children,o=t;return e?a.jsx(c.ApolloProvider,Object.assign({client:e},{children:r}),void 0):a.jsx(o,{},void 0)}}),[e])}},409:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(285),t),c(e(286),t),c(e(155),t),c(e(129),t),c(e(287),t),c(e(288),t),c(e(289),t),c(e(290),t)},410:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(411),t),c(e(412),t),c(e(413),t),c(e(414),t),c(e(416),t),c(e(418),t),c(e(419),t),c(e(420),t),c(e(421),t),c(e(422),t),c(e(423),t)},411:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateAccountMutation=t.gqlCreateAccountMutation=void 0;var o=e(48),i=r(e(31)),u=e(129);t.gqlCreateAccountMutation=i.default(a||(a=c(["\n  mutation CreateAccount($accountInput: CreateAccountInput!) {\n    createAccount(accountInput: $accountInput) {\n      ...Account\n    }\n  }\n  ","\n"])),u.gqlAccount);t.useCreateAccountMutation=function(){return o.useMutation(t.gqlCreateAccountMutation)}},412:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreatePlaidLinkTokenMutation=t.gqlCreatePlaidLinkTokenMutation=void 0;var o=e(48),i=r(e(31));t.gqlCreatePlaidLinkTokenMutation=i.default(a||(a=c(["\n  mutation CreatePlaidLinkToken {\n    createPlaidLinkToken\n  }\n"])));t.useCreatePlaidLinkTokenMutation=function(){return o.useMutation(t.gqlCreatePlaidLinkTokenMutation)}},413:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateTransactionMutation=t.gqlCreateTransactionMutation=void 0;var o=e(48),i=r(e(31)),u=e(155);t.gqlCreateTransactionMutation=i.default(a||(a=c(["\n  mutation CreateTransaction($transactionInput: CreateTransactionInput!) {\n    createTransaction(transactionInput: $transactionInput) {\n      ...Transaction\n    }\n  }\n  ","\n"])),u.gqlTransaction);t.useCreateTransactionMutation=function(){return o.useMutation(t.gqlCreateTransactionMutation)}},414:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDeleteAccountMutation=t.gqlDeleteAccountMutation=void 0;var o=e(48),i=r(e(31)),u=e(415);t.gqlDeleteAccountMutation=i.default(a||(a=c(["\n  mutation DeleteAccount($accountId: ID!) {\n    deleteAccount(accountId: $accountId) {\n      ...DeleteAccountResponse\n    }\n  }\n  ","\n"])),u.gqlDeleteAccountResponse);t.useDeleteAccountMutation=function(){return o.useMutation(t.gqlDeleteAccountMutation)}},415:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlDeleteAccountResponse=void 0;var o=r(e(31));t.gqlDeleteAccountResponse=o.default(a||(a=c(["\n  fragment DeleteAccountResponse on DeleteAccountResponse {\n    id\n  }\n"])))},416:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDeleteTransactionMutation=t.gqlDeleteTransactionMutation=void 0;var o=e(48),i=r(e(31)),u=e(417);t.gqlDeleteTransactionMutation=i.default(a||(a=c(["\n  mutation DeleteTransaction($transactionId: ID!) {\n    deleteTransaction(transactionId: $transactionId) {\n      ...DeleteTransactionResponse\n    }\n  }\n  ","\n"])),u.gqlDeleteTransactionResponse);t.useDeleteTransactionMutation=function(){return o.useMutation(t.gqlDeleteTransactionMutation)}},417:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.gqlDeleteTransactionResponse=void 0;var o=r(e(31));t.gqlDeleteTransactionResponse=o.default(a||(a=c(["\n  fragment DeleteTransactionResponse on DeleteTransactionResponse {\n    id\n  }\n"])))},418:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useLoginMutation=t.gqlLoginMutation=void 0;var o=e(48),i=r(e(31));t.gqlLoginMutation=i.default(a||(a=c(["\n  mutation Login($loginInput: LoginInput!) {\n    login(loginInput: $loginInput)\n  }\n"])));t.useLoginMutation=function(){return o.useMutation(t.gqlLoginMutation)}},419:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useLogoutMutation=t.gqlLogoutMutation=void 0;var o=e(48),i=r(e(31));t.gqlLogoutMutation=i.default(a||(a=c(["\n  mutation Logout {\n    logout\n  }\n"])));t.useLogoutMutation=function(){return o.useMutation(t.gqlLogoutMutation)}},420:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useReconcileBankAccountTransactionMutation=t.gqlReconcileBankAccountTransactionMutation=void 0;var o=e(48),i=r(e(31)),u=e(155);t.gqlReconcileBankAccountTransactionMutation=i.default(a||(a=c(["\n  mutation ReconcileBankAccountTransaction(\n    $bankAccountTransactionId: ID!\n    $accountId: ID!\n  ) {\n    reconcileBankAccountTransaction(\n      bankAccountTransactionId: $bankAccountTransactionId\n      accountId: $accountId\n    ) {\n      ...Transaction\n    }\n  }\n  ","\n"])),u.gqlTransaction);t.useReconcileBankAccountTransactionMutation=function(){return o.useMutation(t.gqlReconcileBankAccountTransactionMutation)}},421:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSubmitPlaidPublicTokenMutation=t.gqlSubmitPlaidPublicTokenMutation=void 0;var o=e(48),i=r(e(31));t.gqlSubmitPlaidPublicTokenMutation=i.default(a||(a=c(["\n  mutation SubmitPlaidPublicToken($publicToken: String!) {\n    submitPlaidPublicToken(publicToken: $publicToken)\n  }\n"])));t.useSubmitPlaidPublicTokenMutation=function(){return o.useMutation(t.gqlSubmitPlaidPublicTokenMutation)}},422:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useUpdateAccountMutation=t.gqlUpdateAccountMutation=void 0;var o=e(48),i=r(e(31)),u=e(129);t.gqlUpdateAccountMutation=i.default(a||(a=c(["\n  mutation UpdateAccount($accountId: ID!, $accountInput: UpdateAccountInput!) {\n    updateAccount(accountId: $accountId, accountInput: $accountInput) {\n      ...Account\n    }\n  }\n  ","\n"])),u.gqlAccount);t.useUpdateAccountMutation=function(){return o.useMutation(t.gqlUpdateAccountMutation)}},423:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useUpdateTransactionMutation=t.gqlUpdateTransactionMutation=void 0;var o=e(48),i=r(e(31)),u=e(155);t.gqlUpdateTransactionMutation=i.default(a||(a=c(["\n  mutation UpdateTransaction(\n    $transactionId: ID!\n    $transactionInput: UpdateTransactionInput!\n  ) {\n    updateTransaction(\n      transactionId: $transactionId\n      transactionInput: $transactionInput\n    ) {\n      ...Transaction\n    }\n  }\n  ","\n"])),u.gqlTransaction);t.useUpdateTransactionMutation=function(){return o.useMutation(t.gqlUpdateTransactionMutation)}},424:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(425),t),c(e(426),t),c(e(427),t),c(e(428),t),c(e(429),t),c(e(430),t),c(e(431),t),c(e(432),t),c(e(433),t),c(e(434),t),c(e(435),t)},425:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountQuery=t.gqlAccountQuery=void 0;var o=e(48),i=r(e(31)),u=e(129);t.gqlAccountQuery=i.default(a||(a=c(["\n  query Account($accountId: ID!) {\n    account(accountId: $accountId) {\n      ...Account\n    }\n  }\n  ","\n"])),u.gqlAccount);t.useAccountQuery=function(n){return o.useQuery(t.gqlAccountQuery,{variables:{accountId:n}})}},426:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountsQuery=t.gqlAccountsQuery=void 0;var o=e(48),i=r(e(31)),u=e(129);t.gqlAccountsQuery=i.default(a||(a=c(["\n  query Accounts {\n    accounts {\n      ...Account\n    }\n  }\n  ","\n"])),u.gqlAccount);t.useAccountsQuery=function(){return o.useQuery(t.gqlAccountsQuery,{})}},427:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useBalanceSheetReportQuery=t.gqlBalanceSheetReportQuery=void 0;var o=e(48),i=r(e(31)),u=e(285);t.gqlBalanceSheetReportQuery=i.default(a||(a=c(["\n  query BalanceSheetReport($date: Date!) {\n    balanceSheetReport(date: $date) {\n      ...BalanceSheetReport\n    }\n  }\n  ","\n"])),u.gqlBalanceSheetReport);t.useBalanceSheetReportQuery=function(n){return o.useQuery(t.gqlBalanceSheetReportQuery,{variables:{date:n}})}},428:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useBankAccountsQuery=t.gqlBankAccountsQuery=void 0;var o=e(48),i=r(e(31)),u=e(287);t.gqlBankAccountsQuery=i.default(a||(a=c(["\n  query BankAccounts {\n    bankAccounts {\n      ...BankAccount\n    }\n  }\n  ","\n"])),u.gqlBankAccount);t.useBankAccountsQuery=function(){return o.useQuery(t.gqlBankAccountsQuery,{})}},429:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useBankAccountTransactionsQuery=t.gqlBankAccountTransactionsQuery=void 0;var o=e(48),i=r(e(31)),u=e(288);t.gqlBankAccountTransactionsQuery=i.default(a||(a=c(["\n  query BankAccountTransactions(\n    $bankAccountId: ID!\n    $offset: Int!\n    $limit: Int!\n    $onlyUnreconciled: Boolean!\n  ) {\n    bankAccountTransactions(\n      bankAccountId: $bankAccountId\n      offset: $offset\n      limit: $limit\n      onlyUnreconciled: $onlyUnreconciled\n    ) {\n      bankAccountTransactions {\n        ...BankAccountTransaction\n      }\n      total\n    }\n  }\n  ","\n"])),u.gqlBankAccountTransaction);t.useBankAccountTransactionsQuery=function(n,e,a){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.useQuery(t.gqlBankAccountTransactionsQuery,{variables:{bankAccountId:n,offset:e,limit:a,onlyUnreconciled:c}})}},430:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useIncomeStatementReportQuery=t.gqlIncomeStatementReportQuery=void 0;var o=e(48),i=r(e(31)),u=e(286);t.gqlIncomeStatementReportQuery=i.default(a||(a=c(["\n  query IncomeStatementReport($startDate: Date!, $endDate: Date!) {\n    incomeStatementReport(startDate: $startDate, endDate: $endDate) {\n      ...IncomeStatementReport\n    }\n  }\n  ","\n"])),u.gqlIncomeStatementReport);t.useIncomeStatementReportQuery=function(n,e){return o.useQuery(t.gqlIncomeStatementReportQuery,{variables:{startDate:n,endDate:e}})}},431:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useMeQuery=t.gqlMeQuery=void 0;var o=e(48),i=r(e(31)),u=e(290);t.gqlMeQuery=i.default(a||(a=c(["\n  query Me {\n    me {\n      ...User\n    }\n  }\n  ","\n"])),u.gqlUser);t.useMeQuery=function(){return o.useQuery(t.gqlMeQuery,{})}},432:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useOrganizationsQuery=t.gqlOrganizationsQuery=void 0;var o=e(48),i=r(e(31)),u=e(289);t.gqlOrganizationsQuery=i.default(a||(a=c(["\n  query Organizations {\n    organizations {\n      ...Organization\n    }\n  }\n  ","\n"])),u.gqlOrganization);t.useOrganizationsQuery=function(){return o.useQuery(t.gqlOrganizationsQuery,{})}},433:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTransactionQuery=t.gqlTransactionQuery=void 0;var o=e(48),i=r(e(31)),u=e(155);t.gqlTransactionQuery=i.default(a||(a=c(["\n  query Transaction($transactionId: ID!) {\n    transaction(transactionId: $transactionId) {\n      ...Transaction\n    }\n  }\n  ","\n"])),u.gqlTransaction);t.useTransactionQuery=function(n){return o.useQuery(t.gqlTransactionQuery,{variables:{transactionId:n}})}},434:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTransactionsQuery=t.gqlTransactionsQuery=void 0;var o=e(48),i=r(e(31)),u=e(155);t.gqlTransactionsQuery=i.default(a||(a=c(["\n  query Transactions {\n    transactions {\n      ...Transaction\n    }\n  }\n  ","\n"])),u.gqlTransaction);t.useTransactionsQuery=function(){return o.useQuery(t.gqlTransactionsQuery)}},435:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTransactionsForAccountQuery=t.gqlTransactionsForAccountQuery=void 0;var o=e(48),i=r(e(31)),u=e(436);t.gqlTransactionsForAccountQuery=i.default(a||(a=c(["\n  query TransactionsForAccount($accountId: ID!) {\n    transactionsForAccount(accountId: $accountId) {\n      ...RunningTransaction\n    }\n  }\n  ","\n"])),u.RunningTransaction);t.useTransactionsForAccountQuery=function(n){return o.useQuery(t.gqlTransactionsForAccountQuery,{variables:{accountId:n}})}},436:function(n,t,e){"use strict";var a,c=e(36),r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.RunningTransaction=void 0;var o=r(e(31));t.RunningTransaction=o.default(a||(a=c(["\n  fragment RunningTransaction on RunningTransaction {\n    transactionId\n    date\n    creditAmount\n    debitAmount\n    description\n    runningBalance\n  }\n"])))},437:function(n,t,e){"use strict";var a=this&&this.__createBinding||(Object.create?function(n,t,e,a){void 0===a&&(a=e),Object.defineProperty(n,a,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,a){void 0===a&&(a=e),n[a]=t[e]}),c=this&&this.__exportStar||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||a(t,n,e)};Object.defineProperty(t,"__esModule",{value:!0}),c(e(282),t),c(e(438),t),c(e(442),t),c(e(283),t)},438:function(n,t,e){"use strict";var a=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.useFirebaseApp=void 0;var c=a(e(439));e(440);var r=null;t.useFirebaseApp=function(n){if(!r||Object.keys(n).length!==Object.keys(r.options).length||Object.keys(n).some((function(t){return n[t]!==(null===r||void 0===r?void 0:r.options[t])}))){var t=c.default.initializeApp(n);r={options:n,app:t}}return r.app}},442:function(n,t,e){"use strict";var a=e(228);Object.defineProperty(t,"__esModule",{value:!0}),t.useFlagState=void 0;var c=e(0);t.useFlagState=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=c.useState(n),e=a(t,2),r=e[0],o=e[1],i=c.useCallback((function(){return o(!0)}),[]),u=c.useCallback((function(){return o(!1)}),[]);return[r,i,u,o]}},453:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountTypeEnum=void 0,function(n){n.ASSET="ASSET",n.LIABILITY="LIABILITY",n.EXPENSE="EXPENSE",n.REVENUE="REVENUE",n.EQUITY="EQUITY"}(t.AccountTypeEnum||(t.AccountTypeEnum={}))},456:function(n,t,e){"use strict";e.r(t);var a=e(0),c=e.n(a),r=e(41),o=e.n(r),i=e(61),u=e(358),s=e(16),l=e(337),d=e.n(l),j=e(2),b=function(n){var t,e=n.loadingComponent,a=n.children,c=e,r=Object(s.useApolloProvider)(null!==(t="http://localhost:3000/graphql")?t:"",d.a);return Object(j.jsx)(r,{loadingComponent:c,children:a})},O=e(58),p=e(53),f=e(11),h=e(534),v=e(538),g=e(170),x=e(532),m=e(5),y=e(354),_=e.n(y),A=e(22),I=e(6),T=e(291),M=Object(T.a)((function(n){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},n.mixins.toolbar),appBar:{zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{overflowX:"hidden",position:"relative",whiteSpace:"nowrap",width:240,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})},drawerPaperClose:Object(A.a)({overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7)},n.breakpoints.up("sm"),{width:n.spacing(9)}),appBarSpacer:n.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:n.spacing(4),paddingBottom:n.spacing(4)},paper:{padding:n.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),k=e(473),S=e(469),D=e(470),q=e(523),C=e(344),P=e.n(C),w=e(518),Q=e(522),B=e(521),R=e(517),E=e(519),L=e(520),F=e(188),$=function(n){var t=n.bankAccount;return t.mask?Object(j.jsxs)(j.Fragment,{children:["(",t.mask,")"]}):null},z=e(147),U=e(341),N=e.n(U),V=function(n){var t=n.color,e=n.onClick,a=n.disabled;return Object(j.jsx)(z.a,{variant:"contained",color:t,startIcon:Object(j.jsx)(N.a,{}),onClick:e,disabled:a,children:"Add"})},G=e(40),W=e.n(G),Y=e(55),X=function(n){var t=n.children,e=Object(s.useCreatePlaidLinkTokenMutation)(),c=Object(f.a)(e,1)[0],r=Object(a.useState)(),o=Object(f.a)(r,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){Object(Y.a)(W.a.mark((function n(){var t,e;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c();case 2:if(t=n.sent,e=t.data){n.next=6;break}return n.abrupt("return");case 6:u(e.createPlaidLinkToken);case 7:case"end":return n.stop()}}),n)})))()}),[c]),Object(a.useMemo)((function(){return i?t(i):null}),[i,t])},H=e(342),J=function(n){var t=n.plaidLinkToken,e=n.onSubmit,c=n.children,r={token:t,onSuccess:e},o=Object(H.usePlaidLink)(r),i=o.open,u=o.ready,s=o.error;return s&&console.error(s),Object(a.useMemo)((function(){return c(i,u,s)}),[c,i,u,s])},K=function(){var n=Object(s.useSubmitPlaidPublicTokenMutation)(),t=Object(f.a)(n,1)[0],e=Object(a.useCallback)((function(n){t({variables:{publicToken:n}})}),[t]);return Object(j.jsx)(X,{children:function(n){return Object(j.jsx)(J,{plaidLinkToken:n,onSubmit:e,children:function(n,t){return Object(j.jsx)(V,{onClick:function(){return n()},disabled:!t,children:"Connect a bank account"})}})}})},Z=function(n){var t,e=n.allowAdd,a=Object(s.useBankAccountsQuery)().data,c=null!==(t=null===a||void 0===a?void 0:a.bankAccounts)&&void 0!==t?t:[];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(R.a,{component:F.a,children:Object(j.jsxs)(w.a,{children:[Object(j.jsx)(E.a,{children:Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:"Id"}),Object(j.jsx)(B.a,{children:"Name"}),Object(j.jsx)(B.a,{children:"Type"})]})}),Object(j.jsx)(Q.a,{children:c.map((function(n){return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:n.id}),Object(j.jsxs)(B.a,{children:[n.name," ",Object(j.jsx)($,{bankAccount:n})]}),Object(j.jsx)(B.a,{children:n.plaidType})]},n.id)}))})]})}),e&&Object(j.jsx)(K,{})]})},nn="/bank-accounts",tn=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Z,{allowAdd:!0})})},en=function(){return Object(j.jsxs)(S.a,{button:!0,component:O.b,to:nn,children:[Object(j.jsx)(D.a,{children:Object(j.jsx)(P.a,{})}),Object(j.jsx)(q.a,{primary:"Bank accounts"})]})},an=e(348),cn=e.n(an),rn=e(527),on=e(529),un=e(528),sn=e(257),ln=e(258),dn=e(189),jn=e(136),bn=e(255),On=e(345),pn=e.n(On),fn=e(293),hn=Object(T.a)((function(n){return Object(fn.a)({formControl:{margin:n.spacing(1),minWidth:120},selectEmpty:{marginTop:n.spacing(2)}})})),vn=function(n){var t=n.label,e=n.value,c=n.disabled,r=n.onChange,o=hn(),i=Object(a.useCallback)((function(n){r&&r(n.target.value)}),[r]);return Object(j.jsxs)(dn.a,{className:o.formControl,children:[Object(j.jsx)(ln.a,{shrink:!0,id:"account-type-label",children:null!==t&&void 0!==t?t:"Account type"}),Object(j.jsxs)(bn.a,{labelId:"account-type-label",value:e,onChange:i,displayEmpty:!0,className:o.selectEmpty,disabled:c,children:[Object(j.jsx)(jn.a,{value:void 0,children:Object(j.jsx)("em",{children:"(none)"})}),Object.keys(pn.a.AccountTypeEnum).map((function(n){return Object(j.jsx)(jn.a,{value:n,children:n},n)}))]})]})},gn=function(n){var t=n.color,e=n.onClick;return Object(j.jsx)(z.a,{variant:"contained",color:t,onClick:e,children:"Submit"})},xn=function(n){var t=n.onClose,e=Object(s.useCreateAccountMutation)(),c=Object(f.a)(e,1)[0],r=Object(a.useState)(""),o=Object(f.a)(r,2),i=o[0],u=o[1],l=Object(a.useState)(void 0),d=Object(f.a)(l,2),b=d[0],O=d[1],p=Object(a.useCallback)(Object(Y.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,c({variables:{accountInput:{name:i,accountType:b}},refetchQueries:[{query:s.gqlAccountsQuery}]});case 4:null===t||void 0===t||t.call(null);case 5:case"end":return n.stop()}}),n)}))),[i,b]);return Object(j.jsxs)(rn.a,{open:!0,onClose:t,children:[Object(j.jsx)(un.a,{children:"Add account"}),Object(j.jsxs)(on.a,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(sn.a,{label:"Account name",value:i,onChange:function(n){return u(n.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(vn,{label:"Account type",value:b,onChange:O})}),Object(j.jsx)("div",{children:Object(j.jsx)(gn,{onClick:p})})]})]})},mn=function(){var n=Object(s.useFlagState)(),t=Object(f.a)(n,3),e=t[0],a=t[1],c=t[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(V,{onClick:a}),e&&Object(j.jsx)(xn,{onClose:c})]})},yn=e(346),_n=e.n(yn),An=function(n){var t=n.color,e=n.onClick;return Object(j.jsx)(z.a,{variant:"contained",color:t,startIcon:Object(j.jsx)(_n.a,{}),onClick:e,children:"Edit"})},In=function(n){var t=n.accountId,e=n.onClose,c=Object(s.useAccountQuery)(t).data,r=Object(s.useFlagState)(),o=Object(f.a)(r,2),i=o[0],u=o[1],l=Object(s.useUpdateAccountMutation)(),d=Object(f.a)(l,1)[0],b=Object(a.useState)(""),O=Object(f.a)(b,2),p=O[0],h=O[1],v=Object(a.useState)(void 0),g=Object(f.a)(v,2),x=g[0],m=g[1],y=Object(a.useCallback)(Object(Y.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(x){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,d({variables:{accountId:t,accountInput:{name:p}},refetchQueries:[{query:s.gqlAccountsQuery}]});case 4:null===e||void 0===e||e.call(null);case 5:case"end":return n.stop()}}),n)}))),[p,x]);return Object(a.useEffect)((function(){if(c){var n=c.account;h(n.name),m(n.accountType),u()}}),[c]),Object(j.jsxs)(rn.a,{open:!0,onClose:e,children:[Object(j.jsx)(un.a,{children:"Edit account"}),Object(j.jsx)(on.a,{children:i&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(sn.a,{label:"Account name",value:p,onChange:function(n){return h(n.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(vn,{label:"Account type",value:x,disabled:!0})}),Object(j.jsx)("div",{children:Object(j.jsx)(gn,{onClick:y})})]})})]})},Tn=function(n){var t=n.accountId,e=Object(s.useFlagState)(),a=Object(f.a)(e,3),c=a[0],r=a[1],o=a[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(An,{onClick:r}),c&&Object(j.jsx)(In,{accountId:t,onClose:o})]})},Mn=e(347),kn=e.n(Mn),Sn=function(n){var t=n.color,e=n.onClick;return Object(j.jsx)(z.a,{variant:"contained",color:t,startIcon:Object(j.jsx)(kn.a,{}),onClick:e,children:"Delete"})},Dn=function(n){var t=n.accountId,e=Object(s.useDeleteAccountMutation)(),c=Object(f.a)(e,1)[0],r=Object(a.useCallback)((function(){c({variables:{accountId:t},refetchQueries:[{query:s.gqlAccountsQuery}]})}),[c]);return Object(j.jsx)(Sn,{onClick:r})},qn=function(n){var t,e=n.allowAdd,a=n.allowEdit,c=n.allowDelete,r=Object(s.useAccountsQuery)().data,o=null!==(t=null===r||void 0===r?void 0:r.accounts)&&void 0!==t?t:[],i=a||c;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(R.a,{component:F.a,children:Object(j.jsxs)(w.a,{children:[Object(j.jsx)(E.a,{children:Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:"Id"}),Object(j.jsx)(B.a,{children:"Name"}),Object(j.jsx)(B.a,{children:"Type"}),i&&Object(j.jsx)(B.a,{})]})}),Object(j.jsx)(Q.a,{children:o.map((function(n){return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:n.id}),Object(j.jsx)(B.a,{children:n.name}),Object(j.jsx)(B.a,{children:n.accountType}),i&&Object(j.jsxs)(B.a,{children:[a&&Object(j.jsx)(Tn,{accountId:n.id}),c&&Object(j.jsx)(Dn,{accountId:n.id})]})]},n.id)}))})]})}),e&&Object(j.jsx)(mn,{})]})},Cn="/accounts",Pn=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(qn,{allowAdd:!0,allowEdit:!0,allowDelete:!0})})},wn=function(){return Object(j.jsxs)(S.a,{button:!0,component:O.b,to:Cn,children:[Object(j.jsx)(D.a,{children:Object(j.jsx)(cn.a,{})}),Object(j.jsx)(q.a,{primary:"Accounts"})]})},Qn=e(350),Bn=e.n(Qn),Rn=Object(T.a)((function(n){return Object(fn.a)({formControl:{margin:n.spacing(1),minWidth:120},selectEmpty:{marginTop:n.spacing(2)}})})),En=function(n){var t,e=n.label,a=n.value,c=n.onChange,r=Rn(),o=Object(s.useAccountsQuery)().data,i=null!==(t=null===o||void 0===o?void 0:o.accounts)&&void 0!==t?t:[];return Object(j.jsxs)(dn.a,{className:r.formControl,children:[Object(j.jsx)(ln.a,{shrink:!0,id:"transaction-account-label",children:null!==e&&void 0!==e?e:"Account"}),Object(j.jsxs)(bn.a,{labelId:"account-label",value:a,onChange:function(n){return c(n.target.value)},displayEmpty:!0,className:r.selectEmpty,children:[Object(j.jsx)(jn.a,{value:void 0,children:Object(j.jsx)("em",{children:"(none)"})}),i.map((function(n){return Object(j.jsx)(jn.a,{value:n.id,children:n.name},n.id)}))]})]})},Ln=function(n){var t,e=n.accountId,a=Object(s.useTransactionsForAccountQuery)(e).data,c=null!==(t=null===a||void 0===a?void 0:a.transactionsForAccount)&&void 0!==t?t:[];return Object(j.jsx)(R.a,{component:F.a,children:Object(j.jsxs)(w.a,{children:[Object(j.jsx)(E.a,{children:Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:"Date"}),Object(j.jsx)(B.a,{children:"Description"}),Object(j.jsx)(B.a,{align:"right",children:"Credit"}),Object(j.jsx)(B.a,{align:"right",children:"Debit"}),Object(j.jsx)(B.a,{align:"right",children:"Running balance"})]})}),Object(j.jsxs)(Q.a,{children:[Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{}),Object(j.jsx)(B.a,{children:"Starting balance"}),Object(j.jsx)(B.a,{align:"right"}),Object(j.jsx)(B.a,{align:"right"}),Object(j.jsx)(B.a,{align:"right",children:"$0.00"})]}),c.map((function(n){var t,e;return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:n.date.toDateString()}),Object(j.jsx)(B.a,{children:n.description}),Object(j.jsx)(B.a,{align:"right",children:null===(t=n.creditAmount)||void 0===t?void 0:t.toString()}),Object(j.jsx)(B.a,{align:"right",children:null===(e=n.debitAmount)||void 0===e?void 0:e.toString()}),Object(j.jsx)(B.a,{align:"right",children:n.runningBalance.toString()})]},n.transactionId)}))]})]})})},Fn=e(535),$n=e(233),zn=e.n($n),Un=function(n){var t,e,c,r,o,i=n.initialValues,u=n.onSubmit,s=Object(a.useState)(null!==(t=null===i||void 0===i?void 0:i.date)&&void 0!==t?t:null),l=Object(f.a)(s,2),d=l[0],b=l[1],O=Object(a.useState)(null!==(e=null===i||void 0===i?void 0:i.creditAccountId)&&void 0!==e?e:void 0),p=Object(f.a)(O,2),h=p[0],v=p[1],g=Object(a.useState)(null!==(c=null===i||void 0===i?void 0:i.debitAccountId)&&void 0!==c?c:void 0),x=Object(f.a)(g,2),m=x[0],y=x[1],_=Object(a.useState)(null!==(r=null===i||void 0===i?void 0:i.description)&&void 0!==r?r:""),A=Object(f.a)(_,2),I=A[0],T=A[1],M=Object(a.useState)(null!==(o=null===i||void 0===i?void 0:i.amount.toString())&&void 0!==o?o:""),k=Object(f.a)(M,2),S=k[0],D=k[1],q=Object(a.useCallback)(Object(Y.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d&&h&&m&&I&&S){n.next=2;break}return n.abrupt("return");case 2:u({date:d,creditAccountId:h,debitAccountId:m,description:I,amount:zn()(S)});case 3:case"end":return n.stop()}}),n)}))),[d,h,m,I,S]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(Fn.a,{variant:"inline",ampm:!0,label:"Date",value:d,onChange:b,format:"MM/dd/yyyy hh:mm a"})}),Object(j.jsx)("div",{children:Object(j.jsx)(En,{label:"Credit account",value:h,onChange:v})}),Object(j.jsx)("div",{children:Object(j.jsx)(En,{label:"Debit account",value:m,onChange:y})}),Object(j.jsx)("div",{children:Object(j.jsx)(sn.a,{label:"Description",value:I,onChange:function(n){return T(n.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(sn.a,{label:"Amount",value:S,onChange:function(n){return D(n.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(gn,{onClick:q})})]})},Nn=function(n){var t=n.onClose,e=Object(s.useCreateTransactionMutation)(),c=Object(f.a)(e,1)[0],r=Object(a.useCallback)(function(){var n=Object(Y.a)(W.a.mark((function n(e){var a,r;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.creditAccountId,r=e.debitAccountId,n.next=3,c({variables:{transactionInput:e},refetchQueries:[{query:s.gqlTransactionsForAccountQuery,variables:{accountId:a}},{query:s.gqlTransactionsForAccountQuery,variables:{accountId:r}},{query:s.gqlTransactionsQuery}]});case 3:null===t||void 0===t||t.call(null);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),[c,t]);return Object(j.jsxs)(rn.a,{open:!0,onClose:t,children:[Object(j.jsx)(un.a,{children:"Add transaction"}),Object(j.jsx)(on.a,{children:Object(j.jsx)(Un,{onSubmit:r})})]})},Vn=function(){var n=Object(s.useFlagState)(),t=Object(f.a)(n,3),e=t[0],a=t[1],c=t[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(V,{onClick:a}),e&&Object(j.jsx)(Nn,{onClose:c})]})},Gn=function(n){var t=n.transactionId,e=n.onClose,c=Object(s.useTransactionQuery)(t).data,r=Object(a.useState)(void 0),o=Object(f.a)(r,2),i=o[0],u=o[1],l=Object(s.useUpdateTransactionMutation)(),d=Object(f.a)(l,1)[0],b=Object(a.useCallback)(function(){var n=Object(Y.a)(W.a.mark((function n(a){var c,r;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a.creditAccountId,r=a.debitAccountId,n.next=3,d({variables:{transactionId:t,transactionInput:a},refetchQueries:[{query:s.gqlTransactionsForAccountQuery,variables:{accountId:c}},{query:s.gqlTransactionsForAccountQuery,variables:{accountId:r}},{query:s.gqlTransactionsQuery}]});case 3:null===e||void 0===e||e.call(null);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),[d,e]);return Object(a.useEffect)((function(){if(c){var n=c.transaction,t=n.date,e=n.creditAccount.id,a=n.debitAccount.id,r=n.description,o=n.amount;u({date:t,creditAccountId:e,debitAccountId:a,description:r,amount:o})}}),[c]),Object(j.jsxs)(rn.a,{open:!0,onClose:e,children:[Object(j.jsx)(un.a,{children:"Edit transaction"}),Object(j.jsx)(on.a,{children:i&&Object(j.jsx)(Un,{initialValues:i,onSubmit:b})})]})},Wn=function(n){var t=n.transactionId,e=Object(s.useFlagState)(),a=Object(f.a)(e,3),c=a[0],r=a[1],o=a[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(An,{onClick:r}),c&&Object(j.jsx)(Gn,{transactionId:t,onClose:o})]})},Yn=function(n){var t=n.transactionId,e=Object(s.useDeleteTransactionMutation)(),c=Object(f.a)(e,1)[0],r=Object(a.useCallback)((function(){c({variables:{transactionId:t},refetchQueries:[{query:s.gqlTransactionsQuery}]})}),[c]);return Object(j.jsx)(Sn,{onClick:r})},Xn=function(n){var t,e=n.allowAdd,a=n.allowEdit,c=n.allowDelete,r=Object(s.useTransactionsQuery)().data,o=null!==(t=null===r||void 0===r?void 0:r.transactions)&&void 0!==t?t:[],i=a||c;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(R.a,{component:F.a,children:Object(j.jsxs)(w.a,{children:[Object(j.jsx)(E.a,{children:Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:"Date"}),Object(j.jsx)(B.a,{children:"Credit account"}),Object(j.jsx)(B.a,{children:"Debit account"}),Object(j.jsx)(B.a,{children:"Description"}),Object(j.jsx)(B.a,{align:"right",children:"Amount"}),i&&Object(j.jsx)(B.a,{})]})}),Object(j.jsx)(Q.a,{children:o.map((function(n){return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:n.date.toDateString()}),Object(j.jsx)(B.a,{children:n.creditAccount.name}),Object(j.jsx)(B.a,{children:n.debitAccount.name}),Object(j.jsx)(B.a,{children:n.description}),Object(j.jsx)(B.a,{align:"right",children:n.amount.toString()}),i&&Object(j.jsxs)(B.a,{children:[a&&Object(j.jsx)(Wn,{transactionId:n.id}),c&&Object(j.jsx)(Yn,{transactionId:n.id})]})]},n.id)}))})]})}),e&&Object(j.jsx)(Vn,{})]})},Hn="/transactions",Jn=function(){var n=Object(a.useState)(void 0),t=Object(f.a)(n,2),e=t[0],c=t[1],r=Object(s.useFlagState)(),o=Object(f.a)(r,3),i=o[0],u=o[1],l=o[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(En,{value:e,onChange:c}),e&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ln,{accountId:e}),Object(j.jsx)(V,{color:"primary",onClick:u}),i&&Object(j.jsx)(Nn,{onClose:l})]}),Object(j.jsx)(Xn,{allowAdd:!0,allowEdit:!0,allowDelete:!0})]})},Kn=function(){return Object(j.jsxs)(S.a,{button:!0,component:O.b,to:Hn,children:[Object(j.jsx)(D.a,{children:Object(j.jsx)(Bn.a,{})}),Object(j.jsx)(q.a,{primary:"Transactions"})]})},Zn=e(351),nt=e.n(Zn),tt=e(531),et=Object(T.a)((function(n){return Object(fn.a)({formControl:{margin:n.spacing(1),minWidth:120},selectEmpty:{marginTop:n.spacing(2)}})})),at=function(n){var t,e=n.label,a=n.value,c=n.onChange,r=et(),o=Object(s.useOrganizationsQuery)().data,i=null!==(t=null===o||void 0===o?void 0:o.organizations)&&void 0!==t?t:[];return Object(j.jsxs)(dn.a,{className:r.formControl,children:[Object(j.jsx)(ln.a,{shrink:!0,id:"transaction-organization-label",children:null!==e&&void 0!==e?e:"Organization"}),Object(j.jsxs)(bn.a,{labelId:"organization-label",value:a,onChange:function(n){return c(n.target.value)},displayEmpty:!0,className:r.selectEmpty,children:[Object(j.jsx)(jn.a,{value:void 0,children:Object(j.jsx)("em",{children:"(none)"})}),i.map((function(n){return Object(j.jsx)(jn.a,{value:n.id,children:n.name},n.id)}))]})]})},ct=function(n){var t=n.onSubmit,e=Object(s.useCurrentOrganizationId)(),c=Object(f.a)(e,2),r=c[0],o=c[1],i=Object(a.useState)(null!==r&&void 0!==r?r:void 0),u=Object(f.a)(i,2),l=u[0],d=u[1],b=Object(a.useCallback)(Object(Y.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l&&(o(l),t());case 1:case"end":return n.stop()}}),n)}))),[l]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(at,{value:l,onChange:d})}),Object(j.jsx)("div",{children:Object(j.jsx)(gn,{onClick:b})})]})},rt="/current-organization",ot=function(){var n=Object(p.g)(),t=Object(a.useCallback)((function(){n.push("/")}),[]);return Object(j.jsx)(tt.a,{container:!0,spacing:0,alignItems:"center",justify:"center",direction:"column",style:{height:"100vh"},children:Object(j.jsx)(ct,{onSubmit:t})})},it=function(){return Object(j.jsxs)(S.a,{button:!0,component:O.b,to:rt,children:[Object(j.jsx)(D.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(q.a,{primary:"Organization"})]})},ut=e(352),st=e.n(ut),lt=function(){var n=Object(s.useLogoutMutation)(),t=Object(f.a)(n,1)[0],e=Object(a.useCallback)((function(){t({refetchQueries:[{query:s.gqlMeQuery}]})}),[t]);return Object(j.jsxs)(S.a,{button:!0,onClick:e,children:[Object(j.jsx)(D.a,{children:Object(j.jsx)(st.a,{})}),Object(j.jsx)(q.a,{primary:"Log out"})]})},dt=e(353),jt=e.n(dt),bt=new Date,Ot=function(){var n=Object(s.useBalanceSheetReportQuery)(bt).data,t=null===n||void 0===n?void 0:n.balanceSheetReport;return t?Object(j.jsx)(R.a,{component:F.a,children:Object(j.jsx)(w.a,{children:Object(j.jsxs)(Q.a,{children:[Object(j.jsx)(L.a,{children:Object(j.jsx)(B.a,{colSpan:2,children:Object(j.jsx)("h1",{children:"Assets"})})}),t.assets.map((function(n){var t=n.account,e=n.balance;return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:t.name}),Object(j.jsx)(B.a,{children:e.mul(-1).toString()})]},t.id)})),Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:"Total assets"})}),Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:t.assetsTotalAmount.mul(-1).toString()})})]}),Object(j.jsx)(L.a,{children:Object(j.jsx)(B.a,{colSpan:2,children:Object(j.jsx)("h1",{children:"Liabilities"})})}),t.liabilities.map((function(n){var t=n.account,e=n.balance;return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:t.name}),Object(j.jsx)(B.a,{children:e.toString()})]},t.id)})),Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:"Total liabilities"})}),Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:t.liabilitiesTotalAmount.toString()})})]}),Object(j.jsx)(L.a,{children:Object(j.jsx)(B.a,{colSpan:2,children:Object(j.jsx)("h1",{children:"Equity"})})}),t.equity.map((function(n){var t=n.account,e=n.balance;return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:t.name}),Object(j.jsx)(B.a,{children:e.toString()})]},t.id)})),Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:"Total equity"})}),Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:t.equityTotalAmount.toString()})})]})]})})}):null},pt="/reports/balance-sheet",ft=function(){return Object(j.jsx)(Ot,{})},ht=new Date("2000-01-01T00:00:00Z"),vt=new Date,gt=function(){var n=Object(s.useIncomeStatementReportQuery)(ht,vt).data,t=null===n||void 0===n?void 0:n.incomeStatementReport;return t?Object(j.jsx)(R.a,{component:F.a,children:Object(j.jsx)(w.a,{children:Object(j.jsxs)(Q.a,{children:[Object(j.jsx)(L.a,{children:Object(j.jsx)(B.a,{colSpan:2,children:Object(j.jsx)("h1",{children:"Income"})})}),t.income.map((function(n){var t=n.account,e=n.balance;return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:t.name}),Object(j.jsx)(B.a,{children:e.toString()})]},t.id)})),Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:"Total income"})}),Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:t.incomeTotalAmount.toString()})})]}),Object(j.jsx)(L.a,{children:Object(j.jsx)(B.a,{colSpan:2,children:Object(j.jsx)("h1",{children:"Expenses"})})}),t.expenses.map((function(n){var t=n.account,e=n.balance;return Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:t.name}),Object(j.jsx)(B.a,{children:e.mul(-1).toString()})]},t.id)})),Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:"Total expenses"})}),Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:t.expensesTotalAmount.mul(-1).toString()})})]}),Object(j.jsx)(L.a,{children:Object(j.jsx)(B.a,{colSpan:2,children:Object(j.jsx)("h1",{children:"Net"})})}),Object(j.jsxs)(L.a,{children:[Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:"Net"})}),Object(j.jsx)(B.a,{children:Object(j.jsx)("strong",{children:t.net.toString()})})]})]})})}):null},xt="/reports/income-statement",mt=function(){return Object(j.jsx)(gt,{})},yt="/reports",_t=function(){return Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(O.b,{to:pt,children:"Balance sheet"})}),Object(j.jsx)("li",{children:Object(j.jsx)(O.b,{to:xt,children:"Income statement"})})]})},At=function(){return Object(j.jsxs)(S.a,{button:!0,component:O.b,to:yt,children:[Object(j.jsx)(D.a,{children:Object(j.jsx)(jt.a,{})}),Object(j.jsx)(q.a,{primary:"Reports"})]})},It=function(){return Object(j.jsxs)(k.a,{children:[Object(j.jsx)(en,{}),Object(j.jsx)(wn,{}),Object(j.jsx)(Kn,{}),Object(j.jsx)(it,{}),Object(j.jsx)(At,{}),Object(j.jsx)(lt,{})]})},Tt=function(n){var t=n.isOpen,e=n.onClose,a=M();return Object(j.jsxs)(v.a,{variant:"permanent",classes:{paper:Object(m.a)(a.drawerPaper,!t&&a.drawerPaperClose)},open:t,children:[Object(j.jsx)("div",{className:a.toolbarIcon,children:Object(j.jsx)(g.a,{onClick:e,children:Object(j.jsx)(_.a,{})})}),Object(j.jsx)(x.a,{}),Object(j.jsx)(It,{})]})},Mt=e(533),kt=e(530),St=e(169),Dt=e(355),qt=e.n(Dt),Ct=function(n){var t=n.isDrawerOpen,e=n.onOpenDrawer,a=M();return Object(j.jsx)(Mt.a,{position:"absolute",className:Object(m.a)(a.appBar,t&&a.appBarShift),children:Object(j.jsxs)(kt.a,{className:a.toolbar,children:[Object(j.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e,className:Object(m.a)(a.menuButton,t&&a.menuButtonHidden),children:Object(j.jsx)(qt.a,{})}),Object(j.jsx)(St.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:"Proton"})]})})},Pt=e(356),wt=function(n){var t=n.bankAccountTransactionId,e=n.onClose,c=Object(a.useState)(void 0),r=Object(f.a)(c,2),o=r[0],i=r[1],u=Object(s.useReconcileBankAccountTransactionMutation)(),l=Object(f.a)(u,1)[0],d=Object(a.useCallback)(Object(Y.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,l({variables:{bankAccountTransactionId:t,accountId:o}});case 4:null===e||void 0===e||e.call(null);case 5:case"end":return n.stop()}}),n)}))),[o,l,e]);return Object(j.jsxs)(rn.a,{open:!0,onClose:e,children:[Object(j.jsx)(un.a,{children:"Reconcile transaction"}),Object(j.jsxs)(on.a,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(En,{label:"Account",value:o,onChange:i})}),Object(j.jsx)("div",{children:Object(j.jsx)(gn,{onClick:d})})]})]})},Qt=function(n){var t=n.bankAccountTransactionId,e=Object(s.useFlagState)(),a=Object(f.a)(e,3),c=a[0],r=a[1],o=a[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(z.a,{variant:"contained",onClick:r,children:"Reconcile"}),c&&Object(j.jsx)(wt,{bankAccountTransactionId:t,onClose:o})]})},Bt=[{field:"id",width:350,hide:!0},{field:"timestamp",width:225,valueFormatter:function(n){return n.value.toISOString()}},{field:"name",width:400},{field:"amount",width:150},{field:"reconcile",width:140,renderCell:function(n){var t=n.row;return Object(j.jsx)(Qt,{bankAccountTransactionId:t.id})}}],Rt=function(n){var t,e=n.bankAccountId,c=Object(a.useState)(0),r=Object(f.a)(c,2),o=r[0],i=r[1],u=Object(a.useState)(10),l=Object(f.a)(u,2),d=l[0],b=l[1],O=Object(s.useBankAccountTransactionsQuery)(e,o*d,d,!0),p=O.data,h=O.loading,v=null!==(t=null===p||void 0===p?void 0:p.bankAccountTransactions)&&void 0!==t?t:{bankAccountTransactions:[],total:void 0},g=v.bankAccountTransactions,x=v.total;return Object(j.jsx)("div",{style:{height:"400px"},children:Object(j.jsx)(Pt.a,{rows:g,columns:Bt,pagination:!0,pageSize:d,rowCount:x,paginationMode:"server",onPageChange:function(n){i(n.page),b(n.pageSize)},loading:h})})},Et=function(){var n=Object(p.h)().bankAccountId;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Bank account transactions"}),Object(j.jsx)("p",{children:n}),Object(j.jsx)(Rt,{bankAccountId:n})]})},Lt=function(){return Object(j.jsxs)(p.d,{children:[Object(j.jsx)(p.b,{exact:!0,path:Cn,component:Pn}),Object(j.jsx)(p.b,{exact:!0,path:nn,component:tn}),Object(j.jsx)(p.b,{exact:!0,path:"/bank-accounts/:bankAccountId/transactions",component:Et}),Object(j.jsx)(p.b,{exact:!0,path:Hn,component:Jn}),Object(j.jsx)(p.b,{exact:!0,path:yt,component:_t}),Object(j.jsx)(p.b,{exact:!0,path:pt,component:ft}),Object(j.jsx)(p.b,{exact:!0,path:xt,component:mt}),Object(j.jsx)(p.a,{to:Cn})]})},Ft=function(){var n=M(),t=Object(s.useFlagState)(),e=Object(f.a)(t,3),a=e[0],c=e[1],r=e[2];return Object(j.jsxs)("div",{className:n.root,children:[Object(j.jsx)(Ct,{isDrawerOpen:a,onOpenDrawer:c}),Object(j.jsx)(Tt,{isOpen:a,onClose:r}),Object(j.jsxs)("main",{className:n.content,children:[Object(j.jsx)("div",{className:n.appBarSpacer}),Object(j.jsx)(h.a,{maxWidth:"lg",className:n.container,children:Object(j.jsx)(Lt,{})})]})]})},$t=function(n){var t=n.onSubmit,e=Object(s.useFirebaseApp)({apiKey:"AIzaSyC7LT-jfsLGCn_cQMGtNE1lwCDrr79dDzs",authDomain:"proton-36956.firebaseapp.com",projectId:"proton-36956",storageBucket:"proton-36956.appspot.com",messagingSenderId:"1051231878423",appId:"1:1051231878423:web:ac0ac0b9de3fb6b3ad8b52"}),c=Object(s.useLoginMutation)(),r=Object(f.a)(c,1)[0],o=Object(a.useState)(""),i=Object(f.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(""),b=Object(f.a)(d,2),O=b[0],p=b[1],h=Object(a.useCallback)(Object(Y.a)(W.a.mark((function n(){var a,c;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.auth().signInWithEmailAndPassword(u,O);case 2:return n.next=4,null===(a=e.auth().currentUser)||void 0===a?void 0:a.getIdToken();case 4:if(c=n.sent){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,r({variables:{loginInput:{firebaseJwt:c}},refetchQueries:[{query:s.gqlMeQuery}]});case 9:t();case 10:case"end":return n.stop()}}),n)}))),[u,O]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(sn.a,{label:"Email address",value:u,onChange:function(n){return l(n.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(sn.a,{label:"Password",inputProps:{type:"password"},value:O,onChange:function(n){return p(n.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(gn,{onClick:h})})]})},zt="/login",Ut=function(){var n=Object(p.g)(),t=Object(a.useCallback)((function(){n.push("/current-organization")}),[n]);return Object(j.jsx)(tt.a,{container:!0,spacing:0,alignItems:"center",justify:"center",direction:"column",style:{height:"100vh"},children:Object(j.jsx)($t,{onSubmit:t})})},Nt=function(){var n=Object(s.useMeQuery)(),t=n.data,e=n.loading,a=null===t||void 0===t?void 0:t.me;return e?null:Object(j.jsx)(O.a,{children:Object(j.jsxs)(p.d,{children:[!a&&Object(j.jsx)(p.b,{exact:!0,path:zt,component:Ut}),Object(j.jsx)(p.b,{exact:!0,path:rt,component:ot}),a&&Object(j.jsx)(Ft,{}),Object(j.jsx)(p.a,{to:zt})]})})},Vt=function(){return Object(j.jsx)("p",{children:"Loading..."})},Gt=function(){return Object(j.jsx)(i.a,{utils:u.a,children:Object(j.jsx)(b,{loadingComponent:Vt,children:Object(j.jsx)(Nt,{})})})};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Gt,{})}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.1850bc8c.chunk.js.map